# 要件定義書

## 1. システム概要

### 1.1 システム名
レシピ・献立管理システム

### 1.2 目的
料理のレシピを登録・管理し、カレンダー上で献立を計画・選択できるシステムを提供する。

### 1.3 対象ユーザー
- 家庭で料理をする個人
- 献立を計画的に管理したい方
- レシピを整理・保存したい方

---

## 2. 機能要件

### 2.1 レシピ管理機能

#### 2.1.1 レシピ登録
- **概要**: 新しいレシピを登録する
- **入力項目**:
  - 料理名（必須）
  - カテゴリ（和食、洋食、中華、その他）
  - 材料リスト
  - 分量
  - 調理手順
  - 調理時間
  - 人数分
  - 写真（任意）
  - タグ（検索用）
  - メモ（任意）

#### 2.1.2 レシピ編集
- 登録済みレシピの内容を修正できる

#### 2.1.3 レシピ削除
- 不要なレシピを削除できる
- 削除前に確認メッセージを表示

#### 2.1.4 レシピ検索
- 料理名、カテゴリ、タグで検索可能
- 材料名での検索も可能

#### 2.1.5 レシピ一覧表示
- 登録されている全レシピを一覧表示
- カテゴリ別、登録日順などでソート可能

### 2.2 カレンダー・献立管理機能

#### 2.2.1 カレンダー表示
- 月間カレンダー表示
- 週間カレンダー表示
- 日次表示

#### 2.2.2 献立登録
- カレンダーの特定日に献立を設定
- 朝食、昼食、夕食を個別に設定可能
- レシピ一覧から選択して登録
- 1日に複数のレシピを登録可能

#### 2.2.3 献立編集
- 登録済み献立の変更
- 日付の移動（ドラッグ&ドロップ対応が望ましい）

#### 2.2.4 献立削除
- 不要な献立を削除

#### 2.2.5 献立のコピー
- 過去の献立を別の日にコピー
- 1週間分の献立をまとめてコピー

### 2.3 買い物リスト機能

#### 2.3.1 買い物リスト自動生成
- 選択した期間の献立から必要な材料を抽出
- 材料の数量を自動計算

#### 2.3.2 買い物リスト編集
- 手動で材料の追加・削除
- 既に持っている材料のチェック

#### 2.3.3 買い物リスト出力
- 印刷機能
- メール送信機能

---

## 3. 非機能要件

### 3.1 パフォーマンス要件
- ページ遷移は3秒以内
- レシピ検索結果表示は2秒以内

### 3.2 セキュリティ要件
- ユーザー認証機能（ログイン・ログアウト）
- パスワードは暗号化して保存
- セッション管理

### 3.3 ユーザビリティ要件
- 直感的なUI/UX
- レスポンシブデザイン（PC、タブレット、スマートフォン対応）
- 日本語インターフェース

### 3.4 可用性要件
- システム稼働率: 99%以上
- 定期的なバックアップ

### 3.5 保守性要件
- コードの可読性を重視
- ドキュメント整備

---

## 4. データ要件

### 4.1 レシピデータ
| 項目名 | データ型 | 必須 | 備考 |
|--------|----------|------|------|
| レシピID | 整数 | ○ | 主キー、自動採番 |
| 料理名 | 文字列 | ○ | 最大100文字 |
| カテゴリ | 文字列 | ○ | 和食/洋食/中華/その他 |
| 材料リスト | テキスト | ○ | JSON形式またはテキスト |
| 調理手順 | テキスト | ○ | |
| 調理時間 | 整数 | △ | 分単位 |
| 人数分 | 整数 | △ | |
| 写真URL | 文字列 | △ | |
| タグ | 文字列 | △ | カンマ区切り |
| メモ | テキスト | △ | |
| 作成日時 | 日時 | ○ | 自動設定 |
| 更新日時 | 日時 | ○ | 自動更新 |

### 4.2 献立データ
| 項目名 | データ型 | 必須 | 備考 |
|--------|----------|------|------|
| 献立ID | 整数 | ○ | 主キー、自動採番 |
| ユーザーID | 整数 | ○ | 外部キー |
| レシピID | 整数 | ○ | 外部キー |
| 日付 | 日付 | ○ | |
| 食事区分 | 文字列 | ○ | 朝食/昼食/夕食 |
| 作成日時 | 日時 | ○ | 自動設定 |

### 4.3 ユーザーデータ
| 項目名 | データ型 | 必須 | 備考 |
|--------|----------|------|------|
| ユーザーID | 整数 | ○ | 主キー、自動採番 |
| ユーザー名 | 文字列 | ○ | ログインID |
| パスワード | 文字列 | ○ | ハッシュ化 |
| メールアドレス | 文字列 | ○ | |
| 作成日時 | 日時 | ○ | 自動設定 |
| 最終ログイン日時 | 日時 | △ | |

---

## 5. 画面要件

### 5.1 画面一覧
1. ログイン画面
2. ダッシュボード画面
3. レシピ一覧画面
4. レシピ詳細画面
5. レシピ登録・編集画面
6. カレンダー画面
7. 献立詳細画面
8. 買い物リスト画面
9. ユーザー設定画面

### 5.2 主要画面の機能

#### 5.2.1 ダッシュボード画面
- 今週の献立サマリー表示
- 最近登録したレシピ表示
- クイックアクセスメニュー

#### 5.2.2 カレンダー画面
- 月間/週間/日次の切り替え
- 献立のドラッグ&ドロップ
- レシピ選択ダイアログ
- 日付クリックで献立登録

---

## 6. 外部インターフェース要件

### 6.1 データインポート
- CSV形式でのレシピ一括インポート

### 6.2 データエクスポート
- レシピのCSVエクスポート
- 献立のPDFエクスポート

---

## 7. 制約条件

### 7.1 技術制約
- 推奨ブラウザ: Chrome、Firefox、Safari、Edge（最新版）
- データベース: PostgreSQL / MySQL / SQLite など

### 7.2 運用制約
- システムメンテナンスは週1回実施
- データバックアップは日次実施

---

## 8. 今後の拡張案

### 8.1 将来的な機能追加候補
- 栄養情報管理（カロリー、栄養素）
- 複数ユーザーでの献立共有
- AIによるレシピ提案
- 外部レシピサイトとの連携
- 音声入力対応
- スマートフォンアプリ化

---

## 9. スケジュール

### 9.1 フェーズ1（MVP: Minimum Viable Product）
- レシピ登録・管理機能
- カレンダー献立登録機能
- 期間: 2-3ヶ月

### 9.2 フェーズ2
- 買い物リスト機能
- データインポート/エクスポート
- 期間: 1-2ヶ月

### 9.3 フェーズ3
- UI/UX改善
- パフォーマンス最適化
- 期間: 1ヶ月

---

## 10. 承認

| 役割 | 氏名 | 日付 | 署名 |
|------|------|------|------|
| プロジェクトマネージャー | | | |
| システム担当者 | | | |
| ユーザー代表 | | | |

---

**文書バージョン**: 1.0
**作成日**: 2025-10-23
**最終更新日**: 2025-10-23
